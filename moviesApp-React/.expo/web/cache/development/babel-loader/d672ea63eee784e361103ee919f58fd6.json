{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport omdb from \"../api/omdb\";\nimport { Context } from \"../context/movieContext\";\nexport default (function () {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    results = _useState2[0],\n    setResults = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    errorMessage = _useState4[0],\n    setErrorMessage = _useState4[1];\n  var _useContext = useContext(Context),\n    state = _useContext.state,\n    getMovies = _useContext.getMovies;\n  var searchApi = function () {\n    var _ref = _asyncToGenerator(function* (searchTerm) {\n      try {\n        var response = yield omdb.get(\"\", {\n          params: {\n            limit: 50,\n            s: searchTerm\n          }\n        });\n        setResults(response.data.Search);\n      } catch (err) {\n        setErrorMessage(\"Something went wrong\");\n      }\n    });\n    return function searchApi(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    searchApi(\"Batman\");\n    getMovies();\n  }, []);\n  return [searchApi, results, errorMessage];\n});","map":{"version":3,"names":["useEffect","useState","omdb","Context","results","setResults","errorMessage","setErrorMessage","useContext","state","getMovies","searchApi","searchTerm","response","get","params","limit","s","data","Search","err"],"sources":["C:/Users/User/Documents/Internship/Training/React Native/moviesApp-React/src/hooks/useResults.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport omdb from \"../api/omdb\";\r\nimport { Context } from \"../context/movieContext\";\r\nexport default () =>{\r\n    const [results, setResults] = useState([]);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const { state, getMovies } = useContext(Context);\r\n  \r\n    const searchApi = async (searchTerm) => {\r\n      try {\r\n        const response = await omdb.get(\"\", {\r\n          params: {\r\n            limit: 50,\r\n            s: searchTerm\r\n          },\r\n        });\r\n        setResults(response.data.Search); //RAML object\r\n      } catch (err) {\r\n        setErrorMessage(\"Something went wrong\");\r\n      }\r\n    };\r\n    useEffect(() => {\r\n      searchApi(\"Batman\");\r\n      getMovies()\r\n    }, []);\r\n\r\n    return [searchApi, results, errorMessage]\r\n}"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,IAAI;AACX,SAASC,OAAO;AAChB,gBAAe,YAAK;EAChB,gBAA8BF,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAnCG,OAAO;IAAEC,UAAU;EAC1B,iBAAwCJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7CK,YAAY;IAAEC,eAAe;EACpC,kBAA6BC,UAAU,CAACL,OAAO,CAAC;IAAxCM,KAAK,eAALA,KAAK;IAAEC,SAAS,eAATA,SAAS;EAExB,IAAMC,SAAS;IAAA,6BAAG,WAAOC,UAAU,EAAK;MACtC,IAAI;QACF,IAAMC,QAAQ,SAASX,IAAI,CAACY,GAAG,CAAC,EAAE,EAAE;UAClCC,MAAM,EAAE;YACNC,KAAK,EAAE,EAAE;YACTC,CAAC,EAAEL;UACL;QACF,CAAC,CAAC;QACFP,UAAU,CAACQ,QAAQ,CAACK,IAAI,CAACC,MAAM,CAAC;MAClC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZb,eAAe,CAAC,sBAAsB,CAAC;MACzC;IACF,CAAC;IAAA,gBAZKI,SAAS;MAAA;IAAA;EAAA,GAYd;EACDX,SAAS,CAAC,YAAM;IACdW,SAAS,CAAC,QAAQ,CAAC;IACnBD,SAAS,EAAE;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACC,SAAS,EAAEP,OAAO,EAAEE,YAAY,CAAC;AAC7C,CAAC"},"metadata":{},"sourceType":"module"}