{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport createDataContext from \"./createDataContecxt\";\nimport omdb from \"../api/omdb\";\nimport axios from 'axios';\nvar url = 'http://www.omdbapi.com/?apikey=a091d52e';\nvar movieReducer = function movieReducer(state, action) {\n  switch (action.type) {\n    case 'get_blogposts':\n      return action.payload;\n    case 'add_blogpost':\n      return [].concat(_toConsumableArray(state), [{\n        id: Math.floor(Math.random() * 99999),\n        content: action.payload.content,\n        description: action.payload.description\n      }]);\n    case 'delete_blogpost':\n      return state.filter(function (blogPost) {\n        return blogPost.id !== action.payload;\n      });\n    case 'edit_blogpost':\n      return state.map(function (blogPost) {\n        return blogPost.id === action.payload.id ? action.payload : blogPost;\n      });\n    default:\n      return state;\n  }\n};\nvar getMovies = function getMovies(dispatch) {\n  return function () {\n    var _ref = _asyncToGenerator(function* (title) {\n      dispatch({\n        type: 'get_blogposts',\n        payload: response.data.Search\n      });\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nvar addMovie = function addMovie(dispatch) {\n  return function () {\n    var _ref2 = _asyncToGenerator(function* (id, description, content, callback) {\n      dispatch({\n        type: 'add_blogpost',\n        payload: {\n          id: id,\n          description: description,\n          content: content\n        }\n      });\n      if (callback) {\n        callback();\n      }\n    });\n    return function (_x2, _x3, _x4, _x5) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nvar _createDataContext = createDataContext(movieReducer, {\n    getMovies: getMovies,\n    addMovie: addMovie\n  }, []),\n  Context = _createDataContext.Context,\n  Provider = _createDataContext.Provider;\nexport { Context, Provider };","map":{"version":3,"names":["createDataContext","omdb","axios","url","movieReducer","state","action","type","payload","id","Math","floor","random","content","description","filter","blogPost","map","getMovies","dispatch","title","response","data","Search","addMovie","callback","Context","Provider"],"sources":["C:/Users/User/Documents/Internship/Training/React Native/moviesApp-React/src/context/movieContext.js"],"sourcesContent":["import createDataContext from './createDataContecxt';\r\nimport omdb from '../api/omdb';\r\nimport axios from 'axios';\r\nconst url =  'http://www.omdbapi.com/?apikey=a091d52e';\r\n\r\nconst movieReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'get_blogposts':\r\n      return action.payload;\r\n    case 'add_blogpost':\r\n      return [\r\n        ...state, \r\n        {\r\n            id: Math.floor(Math.random() * 99999) , \r\n            content: action.payload.content,\r\n            description: action.payload.description\r\n        }];\r\n    case 'delete_blogpost':\r\n      return state.filter(blogPost => blogPost.id !== action.payload);\r\n    case 'edit_blogpost':\r\n      return state.map((blogPost) =>{\r\n        return blogPost.id === action.payload.id ? action.payload : blogPost;\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getMovies = dispatch => {\r\n  return async (title) => {\r\n    // const response =  await axios.get(`${url}&s=${title}`);\r\n    //response.data \r\n    // console.log(response.data.Search);\r\n    dispatch({type: 'get_blogposts', payload: response.data.Search})\r\n  }\r\n}\r\n\r\nconst addMovie = dispatch => {\r\n    return async (id, description,content, callback) =>{\r\n      // await jsonServer.post('/blogposts', {title: title, content: content});\r\n      \r\n        dispatch({ type: 'add_blogpost', payload: {id:id, description: description, content:content}});\r\n        if(callback){\r\n          callback();\r\n        }\r\n    };\r\n    \r\n  };\r\n\r\n// const deleteBlogPost = dispatch => {\r\n//     return async(id) => {\r\n//       await jsonServer.delete(`/blogposts/${id}`)\r\n//         dispatch({type: 'delete_blogpost', payload: id})\r\n//     }\r\n// }\r\n\r\n// const editBlogPost = dispatch => {\r\n//   return async (id, title, content, callback) =>{\r\n//     await jsonServer.put(`/blogposts/${id}`, {title, content})\r\n//     dispatch({\r\n//       type: 'edit_blogpost', \r\n//       payload: {id: id, title: title, content: content}});\r\n//       if(callback){\r\n//         callback();\r\n//       }\r\n//   }\r\n// }\r\n\r\n  export const {Context, Provider} = createDataContext(\r\n    movieReducer, \r\n    {getMovies,addMovie}, \r\n    // {getMovies,addBlogPost, deleteBlogPost, editBlogPost}, \r\n    []\r\n    );"],"mappings":";;AAAA,OAAOA,iBAAiB;AACxB,OAAOC,IAAI;AACX,OAAOC,KAAK,MAAM,OAAO;AACzB,IAAMC,GAAG,GAAI,yCAAyC;AAEtD,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIC,KAAK,EAAEC,MAAM,EAAK;EACtC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,eAAe;MAClB,OAAOD,MAAM,CAACE,OAAO;IACvB,KAAK,cAAc;MACjB,oCACKH,KAAK,IACR;QACII,EAAE,EAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,KAAK,CAAC;QACrCC,OAAO,EAAEP,MAAM,CAACE,OAAO,CAACK,OAAO;QAC/BC,WAAW,EAAER,MAAM,CAACE,OAAO,CAACM;MAChC,CAAC;IACL,KAAK,iBAAiB;MACpB,OAAOT,KAAK,CAACU,MAAM,CAAC,UAAAC,QAAQ;QAAA,OAAIA,QAAQ,CAACP,EAAE,KAAKH,MAAM,CAACE,OAAO;MAAA,EAAC;IACjE,KAAK,eAAe;MAClB,OAAOH,KAAK,CAACY,GAAG,CAAC,UAACD,QAAQ,EAAI;QAC5B,OAAOA,QAAQ,CAACP,EAAE,KAAKH,MAAM,CAACE,OAAO,CAACC,EAAE,GAAGH,MAAM,CAACE,OAAO,GAAGQ,QAAQ;MACtE,CAAC,CAAC;IAEJ;MACE,OAAOX,KAAK;EAAC;AAEnB,CAAC;AAED,IAAMa,SAAS,GAAG,SAAZA,SAAS,CAAGC,QAAQ,EAAI;EAC5B;IAAA,6BAAO,WAAOC,KAAK,EAAK;MAItBD,QAAQ,CAAC;QAACZ,IAAI,EAAE,eAAe;QAAEC,OAAO,EAAEa,QAAQ,CAACC,IAAI,CAACC;MAAM,CAAC,CAAC;IAClE,CAAC;IAAA;MAAA;IAAA;EAAA;AACH,CAAC;AAED,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,CAAGL,QAAQ,EAAI;EACzB;IAAA,8BAAO,WAAOV,EAAE,EAAEK,WAAW,EAACD,OAAO,EAAEY,QAAQ,EAAI;MAG/CN,QAAQ,CAAC;QAAEZ,IAAI,EAAE,cAAc;QAAEC,OAAO,EAAE;UAACC,EAAE,EAACA,EAAE;UAAEK,WAAW,EAAEA,WAAW;UAAED,OAAO,EAACA;QAAO;MAAC,CAAC,CAAC;MAC9F,IAAGY,QAAQ,EAAC;QACVA,QAAQ,EAAE;MACZ;IACJ,CAAC;IAAA;MAAA;IAAA;EAAA;AAEH,CAAC;AAqBM,yBAA4BzB,iBAAiB,CAClDI,YAAY,EACZ;IAACc,SAAS,EAATA,SAAS;IAACM,QAAQ,EAARA;EAAQ,CAAC,EAEpB,EAAE,CACD;EALWE,OAAO,sBAAPA,OAAO;EAAEC,QAAQ,sBAARA,QAAQ;AAK3B"},"metadata":{},"sourceType":"module"}